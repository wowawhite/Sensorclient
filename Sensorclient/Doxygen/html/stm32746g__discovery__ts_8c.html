<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Sensorclient: Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_ts.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Sensorclient
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('stm32746g__discovery__ts_8c.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">stm32746g_discovery_ts.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file provides a set of functions needed to manage the Touch Screen on STM32746G-Discovery board.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="stm32746g__discovery__ts_8h_source.html">stm32746g_discovery_ts.h</a>&quot;</code><br />
</div>
<p><a href="stm32746g__discovery__ts_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gadd1d6d5cdc5325abec33590188ceea6e"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__STM32746G__DISCOVERY__TS__Exported__Functions.html#gadd1d6d5cdc5325abec33590188ceea6e">BSP_TS_Init</a> (uint16_t ts_SizeX, uint16_t ts_SizeY)</td></tr>
<tr class="memdesc:gadd1d6d5cdc5325abec33590188ceea6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes and configures the touch screen functionalities and configures all necessary hardware resources (GPIOs, I2C, clocks..).  <a href="group__STM32746G__DISCOVERY__TS__Exported__Functions.html#gadd1d6d5cdc5325abec33590188ceea6e">More...</a><br /></td></tr>
<tr class="separator:gadd1d6d5cdc5325abec33590188ceea6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga85d92ab2c6517ff16ddab5e1eab483e9"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__STM32746G__DISCOVERY__TS__Exported__Functions.html#ga85d92ab2c6517ff16ddab5e1eab483e9">BSP_TS_DeInit</a> (void)</td></tr>
<tr class="memdesc:ga85d92ab2c6517ff16ddab5e1eab483e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">DeInitializes the TouchScreen.  <a href="group__STM32746G__DISCOVERY__TS__Exported__Functions.html#ga85d92ab2c6517ff16ddab5e1eab483e9">More...</a><br /></td></tr>
<tr class="separator:ga85d92ab2c6517ff16ddab5e1eab483e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9ee5e7f25f303d41fab3a0e078225168"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__STM32746G__DISCOVERY__TS__Exported__Functions.html#ga9ee5e7f25f303d41fab3a0e078225168">BSP_TS_ITConfig</a> (void)</td></tr>
<tr class="memdesc:ga9ee5e7f25f303d41fab3a0e078225168"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures and enables the touch screen interrupts.  <a href="group__STM32746G__DISCOVERY__TS__Exported__Functions.html#ga9ee5e7f25f303d41fab3a0e078225168">More...</a><br /></td></tr>
<tr class="separator:ga9ee5e7f25f303d41fab3a0e078225168"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3da0a8dcaa653c2ffee4231da98ea7ee"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__STM32746G__DISCOVERY__TS__Exported__Functions.html#ga3da0a8dcaa653c2ffee4231da98ea7ee">BSP_TS_ITGetStatus</a> (void)</td></tr>
<tr class="memdesc:ga3da0a8dcaa653c2ffee4231da98ea7ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the touch screen interrupt status.  <a href="group__STM32746G__DISCOVERY__TS__Exported__Functions.html#ga3da0a8dcaa653c2ffee4231da98ea7ee">More...</a><br /></td></tr>
<tr class="separator:ga3da0a8dcaa653c2ffee4231da98ea7ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2ffde297306ab09725ba5382d3ed432e"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__STM32746G__DISCOVERY__TS__Exported__Functions.html#ga2ffde297306ab09725ba5382d3ed432e">BSP_TS_GetState</a> (<a class="el" href="structTS__StateTypeDef.html">TS_StateTypeDef</a> *<a class="el" href="group__BSP.html#gab4e3c89fc3a3da1f7bdf648ffc2b8e62">TS_State</a>)</td></tr>
<tr class="memdesc:ga2ffde297306ab09725ba5382d3ed432e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns status and positions of the touch screen.  <a href="group__STM32746G__DISCOVERY__TS__Exported__Functions.html#ga2ffde297306ab09725ba5382d3ed432e">More...</a><br /></td></tr>
<tr class="separator:ga2ffde297306ab09725ba5382d3ed432e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6bfa5cb59aa0c338ee31eb7d7c418530"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__STM32746G__DISCOVERY__TS__Exported__Functions.html#ga6bfa5cb59aa0c338ee31eb7d7c418530">BSP_TS_ITClear</a> (void)</td></tr>
<tr class="memdesc:ga6bfa5cb59aa0c338ee31eb7d7c418530"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears all touch screen interrupts.  <a href="group__STM32746G__DISCOVERY__TS__Exported__Functions.html#ga6bfa5cb59aa0c338ee31eb7d7c418530">More...</a><br /></td></tr>
<tr class="separator:ga6bfa5cb59aa0c338ee31eb7d7c418530"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6e382b0b061269f2c9e6c826f6dd73d1"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__STM32756G__DISCOVERY__TS__Private__Functions.html#ga6e382b0b061269f2c9e6c826f6dd73d1">BSP_TS_ResetTouchData</a> (<a class="el" href="structTS__StateTypeDef.html">TS_StateTypeDef</a> *<a class="el" href="group__BSP.html#gab4e3c89fc3a3da1f7bdf648ffc2b8e62">TS_State</a>)</td></tr>
<tr class="memdesc:ga6e382b0b061269f2c9e6c826f6dd73d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function used to reset all touch data before a new acquisition of touch information.  <a href="group__STM32756G__DISCOVERY__TS__Private__Functions.html#ga6e382b0b061269f2c9e6c826f6dd73d1">More...</a><br /></td></tr>
<tr class="separator:ga6e382b0b061269f2c9e6c826f6dd73d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga5ab21696d23dea8e772c7e65b626572c"><td class="memItemLeft" align="right" valign="top">static TS_DrvTypeDef *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__STM32746G__DISCOVERY__TS__Private__Variables.html#ga5ab21696d23dea8e772c7e65b626572c">tsDriver</a></td></tr>
<tr class="separator:ga5ab21696d23dea8e772c7e65b626572c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga247384a93402b6166901ce327519fd0d"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__STM32746G__DISCOVERY__TS__Private__Variables.html#ga247384a93402b6166901ce327519fd0d">tsXBoundary</a></td></tr>
<tr class="separator:ga247384a93402b6166901ce327519fd0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0734b12e96c4c6354f9cf4e3de14a016"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__STM32746G__DISCOVERY__TS__Private__Variables.html#ga0734b12e96c4c6354f9cf4e3de14a016">tsYBoundary</a></td></tr>
<tr class="separator:ga0734b12e96c4c6354f9cf4e3de14a016"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab467a500de657afc0e2106ecef34b233"><td class="memItemLeft" align="right" valign="top">static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__STM32746G__DISCOVERY__TS__Private__Variables.html#gab467a500de657afc0e2106ecef34b233">tsOrientation</a></td></tr>
<tr class="separator:gab467a500de657afc0e2106ecef34b233"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga82c5a67884519240d75ec7c15e5053ad"><td class="memItemLeft" align="right" valign="top">static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__STM32746G__DISCOVERY__TS__Private__Variables.html#ga82c5a67884519240d75ec7c15e5053ad">I2cAddress</a></td></tr>
<tr class="separator:ga82c5a67884519240d75ec7c15e5053ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file provides a set of functions needed to manage the Touch Screen on STM32746G-Discovery board. </p>
<dl class="section author"><dt>Author</dt><dd>MCD Application Team </dd></dl>
<dl class="section attention"><dt>Attention</dt><dd></dd></dl>
<p>Copyright (c) 2016 STMicroelectronics. All rights reserved.</p>
<p>This software is licensed under terms that can be found in the LICENSE file in the root directory of this software component. If no LICENSE file comes with this software, it is provided AS-IS.</p>
<pre class="fragment"> 1. How To use this driver:
 --------------------------
    - This driver is used to drive the touch screen module of the STM32746G-Discovery
      board on the RK043FN48H-CT672B 480x272 LCD screen with capacitive touch screen.
    - The FT5336 component driver must be included in project files according to
      the touch screen driver present on this board.
 
 2. Driver description:
 ---------------------
   + Initialization steps:
      o Initialize the TS module using the BSP_TS_Init() function. This 
        function includes the MSP layer hardware resources initialization and the
        communication layer configuration to start the TS use. The LCD size properties
        (x and y) are passed as parameters.
      o If TS interrupt mode is desired, you must configure the TS interrupt mode
        by calling the function BSP_TS_ITConfig(). The TS interrupt mode is generated
        as an external interrupt whenever a touch is detected. 
        The interrupt mode internally uses the IO functionalities driver driven by
        the IO expander, to configure the IT line.
   
   + Touch screen use
      o The touch screen state is captured whenever the function BSP_TS_GetState() is 
        used. This function returns information about the last LCD touch occurred
        in the TS_StateTypeDef structure.
      o If TS interrupt mode is used, the function BSP_TS_ITGetStatus() is needed to get
        the interrupt status. To clear the IT pending bits, you should call the 
        function BSP_TS_ITClear().
      o The IT is handled using the corresponding external interrupt IRQ handler,
        the user IT callback treatment is implemented on the same external interrupt
        callback.
</pre> 
<p class="definition">Definition in file <a class="el" href="stm32746g__discovery__ts_8c_source.html">stm32746g_discovery_ts.c</a>.</p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_60925fc218da8ca7908795bf5f624060.html">Drivers</a></li><li class="navelem"><a class="el" href="dir_0d65e5fa077ec095e65d7480f3bb9880.html">BSP</a></li><li class="navelem"><a class="el" href="dir_66046b319c56445324f9ed0c3e507bd1.html">STM32746G-Discovery</a></li><li class="navelem"><a class="el" href="stm32746g__discovery__ts_8c.html">stm32746g_discovery_ts.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.16 </li>
  </ul>
</div>
</body>
</html>
