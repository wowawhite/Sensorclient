<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Sensorclient: Drivers/BSP/STM32746G-Discovery/stm32746g_discovery_eeprom.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Sensorclient
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('stm32746g__discovery__eeprom_8c.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">stm32746g_discovery_eeprom.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file provides a set of functions needed to manage an I2C M24LR64 EEPROM memory.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="stm32746g__discovery__eeprom_8h_source.html">stm32746g_discovery_eeprom.h</a>&quot;</code><br />
</div>
<p><a href="stm32746g__discovery__eeprom_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga6d717b5f6afc3cdb99b13e9b7d7eed1e"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__STM32746G__DISCOVERY__EEPROM__Exported__Functions.html#ga6d717b5f6afc3cdb99b13e9b7d7eed1e">BSP_EEPROM_Init</a> (void)</td></tr>
<tr class="memdesc:ga6d717b5f6afc3cdb99b13e9b7d7eed1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes peripherals used by the I2C EEPROM driver.  <a href="group__STM32746G__DISCOVERY__EEPROM__Exported__Functions.html#ga6d717b5f6afc3cdb99b13e9b7d7eed1e">More...</a><br /></td></tr>
<tr class="separator:ga6d717b5f6afc3cdb99b13e9b7d7eed1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4f4a67920b8fc632bb643ee78da989fa"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__STM32746G__DISCOVERY__EEPROM__Exported__Functions.html#ga4f4a67920b8fc632bb643ee78da989fa">BSP_EEPROM_DeInit</a> (void)</td></tr>
<tr class="memdesc:ga4f4a67920b8fc632bb643ee78da989fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">DeInitializes the EEPROM.  <a href="group__STM32746G__DISCOVERY__EEPROM__Exported__Functions.html#ga4f4a67920b8fc632bb643ee78da989fa">More...</a><br /></td></tr>
<tr class="separator:ga4f4a67920b8fc632bb643ee78da989fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1c1abade8bdf1d7be30c1549d1182b5e"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__STM32746G__DISCOVERY__EEPROM__Exported__Functions.html#ga1c1abade8bdf1d7be30c1549d1182b5e">BSP_EEPROM_ReadBuffer</a> (uint8_t *pBuffer, uint16_t ReadAddr, uint16_t *NumByteToRead)</td></tr>
<tr class="memdesc:ga1c1abade8bdf1d7be30c1549d1182b5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads a block of data from the EEPROM.  <a href="group__STM32746G__DISCOVERY__EEPROM__Exported__Functions.html#ga1c1abade8bdf1d7be30c1549d1182b5e">More...</a><br /></td></tr>
<tr class="separator:ga1c1abade8bdf1d7be30c1549d1182b5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga334dd1833afbd3790d096cc8c50d18b2"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__STM32746G__DISCOVERY__EEPROM__Exported__Functions.html#ga334dd1833afbd3790d096cc8c50d18b2">BSP_EEPROM_WritePage</a> (uint8_t *pBuffer, uint16_t WriteAddr, uint8_t *NumByteToWrite)</td></tr>
<tr class="memdesc:ga334dd1833afbd3790d096cc8c50d18b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes more than one byte to the EEPROM with a single WRITE cycle.  <a href="group__STM32746G__DISCOVERY__EEPROM__Exported__Functions.html#ga334dd1833afbd3790d096cc8c50d18b2">More...</a><br /></td></tr>
<tr class="separator:ga334dd1833afbd3790d096cc8c50d18b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gade25f53f83972dcff20d9fbbf158054b"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__STM32746G__DISCOVERY__EEPROM__Exported__Functions.html#gade25f53f83972dcff20d9fbbf158054b">BSP_EEPROM_WriteBuffer</a> (uint8_t *pBuffer, uint16_t WriteAddr, uint16_t NumByteToWrite)</td></tr>
<tr class="memdesc:gade25f53f83972dcff20d9fbbf158054b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes buffer of data to the I2C EEPROM.  <a href="group__STM32746G__DISCOVERY__EEPROM__Exported__Functions.html#gade25f53f83972dcff20d9fbbf158054b">More...</a><br /></td></tr>
<tr class="separator:gade25f53f83972dcff20d9fbbf158054b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8bc040164311e30678bea1339be60560"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__STM32746G__DISCOVERY__EEPROM__Exported__Functions.html#ga8bc040164311e30678bea1339be60560">BSP_EEPROM_WaitEepromStandbyState</a> (void)</td></tr>
<tr class="memdesc:ga8bc040164311e30678bea1339be60560"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for EEPROM Standby state.  <a href="group__STM32746G__DISCOVERY__EEPROM__Exported__Functions.html#ga8bc040164311e30678bea1339be60560">More...</a><br /></td></tr>
<tr class="separator:ga8bc040164311e30678bea1339be60560"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf6af0c34d2420078914fd5504e087d37"><td class="memItemLeft" align="right" valign="top">__weak void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__STM32746G__DISCOVERY__EEPROM__Exported__Functions.html#gaf6af0c34d2420078914fd5504e087d37">BSP_EEPROM_TIMEOUT_UserCallback</a> (void)</td></tr>
<tr class="memdesc:gaf6af0c34d2420078914fd5504e087d37"><td class="mdescLeft">&#160;</td><td class="mdescRight">Basic management of the timeout situation.  <a href="group__STM32746G__DISCOVERY__EEPROM__Exported__Functions.html#gaf6af0c34d2420078914fd5504e087d37">More...</a><br /></td></tr>
<tr class="separator:gaf6af0c34d2420078914fd5504e087d37"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga9909b7096e1334cccc8f12f54d525849"><td class="memItemLeft" align="right" valign="top"><a class="el" href="core__sc300_8h.html#aec43007d9998a0a0e01faede4133d6be">__IO</a> uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__STM32746G__DISCOVERY__EEPROM__Private__Variables.html#ga9909b7096e1334cccc8f12f54d525849">EEPROMAddress</a> = 0</td></tr>
<tr class="separator:ga9909b7096e1334cccc8f12f54d525849"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad9efcfa328615753e6b30e19b0eeebe4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="core__sc300_8h.html#aec43007d9998a0a0e01faede4133d6be">__IO</a> uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__STM32746G__DISCOVERY__EEPROM__Private__Variables.html#gad9efcfa328615753e6b30e19b0eeebe4">EEPROMDataRead</a></td></tr>
<tr class="separator:gad9efcfa328615753e6b30e19b0eeebe4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9582accb78fdfc5ccb0dae530fddbee4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="core__sc300_8h.html#aec43007d9998a0a0e01faede4133d6be">__IO</a> uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__STM32746G__DISCOVERY__EEPROM__Private__Variables.html#ga9582accb78fdfc5ccb0dae530fddbee4">EEPROMDataWrite</a></td></tr>
<tr class="separator:ga9582accb78fdfc5ccb0dae530fddbee4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file provides a set of functions needed to manage an I2C M24LR64 EEPROM memory. </p>
<dl class="section author"><dt>Author</dt><dd>MCD Application Team </dd></dl>
<dl class="section attention"><dt>Attention</dt><dd></dd></dl>
<p>Copyright (c) 2016 STMicroelectronics. All rights reserved.</p>
<p>This software is licensed under terms that can be found in the LICENSE file in the root directory of this software component. If no LICENSE file comes with this software, it is provided AS-IS.</p>
<pre class="fragment">           To be able to use this driver, the switch EE_M24LR64 must be defined
           in your toolchain compiler preprocessor
           
           =================================================================== 
           Notes:
            - The I2C EEPROM memory (M24LR64) is available on separate daughter 
              board ANT7-M24LR-A, which is not provided with the STM32746G_DISCOVERY
              board.
              To use this driver you have to connect the ANT7-M24LR-A to CN3 
              connector of STM32746G_DISCOVERY board.
           ===================================================================
               
           It implements a high level communication layer for read and write 
           from/to this memory. The needed STM32F7xx hardware resources (I2C and
           GPIO) are defined in stm32746g_discovery.h file, and the initialization is
           performed in EEPROM_IO_Init() function declared in stm32746g_discovery.c
           file.
           You can easily tailor this driver to any other development board, 
           by just adapting the defines for hardware resources and 
           EEPROM_IO_Init() function. 
         
           @note In this driver, basic read and write functions (BSP_EEPROM_ReadBuffer() 
                 and BSP_EEPROM_WritePage()) use DMA mode to perform the data 
                 transfer to/from EEPROM memory.
 
          @note   Regarding BSP_EEPROM_WritePage(), it is an optimized function to perform
                 small write (less than 1 page) BUT the number of bytes (combined to write start address) must not
                 cross the EEPROM page boundary. This function can only writes into
                 the boundaries of an EEPROM page.
                 This function doesn't check on boundaries condition (in this driver 
                 the function BSP_EEPROM_WriteBuffer() which calls BSP_EEPROM_WritePage() is 
                 responsible of checking on Page boundaries).
  
              
      +-----------------------------------------------------------------+
      |               Pin assignment for M24LR64 EEPROM                 |
      +---------------------------------------+-----------+-------------+
      |  STM32F7xx I2C Pins                   |   EEPROM  |   Pin       |
      +---------------------------------------+-----------+-------------+
      | .                                     |   E0(GND) |    1  (0V)  |
      | .                                     |   AC0     |    2        |
      | .                                     |   AC1     |    3        |
      | .                                     |   VSS     |    4  (0V)  |
      | SDA                                   |   SDA     |    5        |
      | SCL                                   |   SCL     |    6        |
      | .                                     |   E1(GND) |    7  (0V)  |
      | .                                     |   VDD     |    8 (3.3V) |
      +---------------------------------------+-----------+-------------+
</pre> 
<p class="definition">Definition in file <a class="el" href="stm32746g__discovery__eeprom_8c_source.html">stm32746g_discovery_eeprom.c</a>.</p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_60925fc218da8ca7908795bf5f624060.html">Drivers</a></li><li class="navelem"><a class="el" href="dir_0d65e5fa077ec095e65d7480f3bb9880.html">BSP</a></li><li class="navelem"><a class="el" href="dir_66046b319c56445324f9ed0c3e507bd1.html">STM32746G-Discovery</a></li><li class="navelem"><a class="el" href="stm32746g__discovery__eeprom_8c.html">stm32746g_discovery_eeprom.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.16 </li>
  </ul>
</div>
</body>
</html>
